{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pc\\\\Desktop\\\\ahmed\\\\src\\\\context\\\\ContextProvider.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport ApiContext from './ApiContext';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [loading, setLoading] = useState(false);\n  const [beneficaires, setBeneficaires] = useState([]);\n  const getBeneficiares = async _ref2 => {\n    let {\n      nom,\n      prenom,\n      matricule,\n      rfDirection,\n      rfBeneficiaire\n    } = _ref2;\n    setLoading(true);\n    try {\n      const response = await axios.get('http://localhost:8089/beneficiaire/recherche?nom=' + nom);\n      console.log(response.data);\n      setBeneficaires(response.data);\n      setLoading(false);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      return [];\n    }\n  };\n  const addBeneficiaire = async _ref3 => {\n    let {\n      nom,\n      prenom,\n      matricule,\n      rfDirection,\n      rfBeneficiaire,\n      centreCout\n    } = _ref3;\n    setLoading(true);\n    try {\n      const response = await axios.post('http://localhost:8089/beneficiaire', {\n        nom: nom,\n        prenom: prenom,\n        matricule: matricule,\n        rfDirection: rfDirection,\n        rfBeneficiaire: rfBeneficiaire,\n        centreCout: centreCout\n      });\n      console.log(response.data);\n      setBeneficaires(response.data);\n      setLoading(false);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      return [];\n    }\n  };\n  console.log(\"we are in contextProvider\", beneficaires);\n  const apiContextValue = {\n    getBeneficiares,\n    beneficaires: beneficaires,\n    loading\n  };\n  return /*#__PURE__*/_jsxDEV(ApiContext.Provider, {\n    value: apiContextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n_s(ContextProvider, \"/67ftwRAAagTTXHKkk7EdJRFZVk=\");\n_c = ContextProvider;\nexport default ContextProvider;\nvar _c;\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["useState","ApiContext","axios","jsxDEV","_jsxDEV","ContextProvider","_ref","_s","children","loading","setLoading","beneficaires","setBeneficaires","getBeneficiares","_ref2","nom","prenom","matricule","rfDirection","rfBeneficiaire","response","get","console","log","data","error","addBeneficiaire","_ref3","centreCout","post","apiContextValue","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Pc/Desktop/ahmed/src/context/ContextProvider.tsx"],"sourcesContent":["import { ReactNode, useState } from 'react';\r\nimport ApiContext from './ApiContext';\r\nimport axios from 'axios';\r\nimport {IBeneficiare } from './types';\r\n\r\ninterface IContextProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nconst ContextProvider = ({ children }: IContextProviderProps) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [beneficaires, setBeneficaires] = useState<IBeneficiare[]>([]);\r\n\r\n  const getBeneficiares = async ({\r\n    nom,\r\n    prenom,\r\n    matricule,\r\n    rfDirection,\r\n    rfBeneficiaire,\r\n  }: {\r\n    nom: string;\r\n    prenom: string;\r\n    matricule: string;\r\n    rfDirection: string;\r\n    rfBeneficiaire: string;\r\n  }): Promise<IBeneficiare[]> => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get(\r\n        'http://localhost:8089/beneficiaire/recherche?nom=' + nom,\r\n      );\r\n      console.log(response.data);\r\n      setBeneficaires(response.data as IBeneficiare[]);\r\n      setLoading(false);\r\n      return response.data as IBeneficiare[];\r\n    } catch (error) {\r\n      console.log(error);\r\n      setLoading(false);\r\n      return []; \r\n    }\r\n  };\r\n\r\n  const addBeneficiaire = async ({\r\n    nom,\r\n    prenom,\r\n    matricule,\r\n    rfDirection,\r\n    rfBeneficiaire,\r\n    centreCout\r\n  }: {\r\n    nom: string;\r\n    prenom: string;\r\n    matricule: string;\r\n    rfDirection: number;\r\n    rfBeneficiaire: number;\r\n    centreCout: number;\r\n  }): Promise<IBeneficiare[]> => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.post(\r\n        'http://localhost:8089/beneficiaire',\r\n        {\r\n          nom: nom,\r\n          prenom: prenom,\r\n          matricule: matricule,\r\n          rfDirection: rfDirection,\r\n          rfBeneficiaire: rfBeneficiaire,\r\n          centreCout: centreCout,\r\n        }\r\n      );\r\n      console.log(response.data);\r\n      setBeneficaires(response.data as IBeneficiare[]);\r\n      setLoading(false);\r\n      return response.data as IBeneficiare[];\r\n    } catch (error) {\r\n      console.log(error);\r\n      setLoading(false);\r\n      return []; \r\n    }\r\n  };\r\n\r\n  console.log(\"we are in contextProvider\",beneficaires)\r\n  const apiContextValue = {\r\n    getBeneficiares,\r\n    beneficaires: beneficaires,\r\n    loading,\r\n  };\r\n\r\n  return (\r\n    <ApiContext.Provider value={apiContextValue}>\r\n      {children}\r\n    </ApiContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ContextProvider;"],"mappings":";;AAAA,SAAoBA,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAO1B,MAAMC,eAAe,GAAGC,IAAA,IAAyC;EAAAC,EAAA;EAAA,IAAxC;IAAEC;EAAgC,CAAC,GAAAF,IAAA;EAC1D,MAAM,CAACG,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACW,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAiB,EAAE,CAAC;EAEpE,MAAMa,eAAe,GAAG,MAAAC,KAAA,IAYO;IAAA,IAZA;MAC7BC,GAAG;MACHC,MAAM;MACNC,SAAS;MACTC,WAAW;MACXC;IAOF,CAAC,GAAAL,KAAA;IACCJ,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMU,QAAQ,GAAG,MAAMlB,KAAK,CAACmB,GAAG,CAC9B,mDAAmD,GAAGN,GAAG,CAC1D;MACDO,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,CAAC;MAC1BZ,eAAe,CAACQ,QAAQ,CAACI,IAAI,CAAmB;MAChDd,UAAU,CAAC,KAAK,CAAC;MACjB,OAAOU,QAAQ,CAACI,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MAClBf,UAAU,CAAC,KAAK,CAAC;MACjB,OAAO,EAAE;IACX;EACF,CAAC;EAED,MAAMgB,eAAe,GAAG,MAAAC,KAAA,IAcO;IAAA,IAdA;MAC7BZ,GAAG;MACHC,MAAM;MACNC,SAAS;MACTC,WAAW;MACXC,cAAc;MACdS;IAQF,CAAC,GAAAD,KAAA;IACCjB,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMU,QAAQ,GAAG,MAAMlB,KAAK,CAAC2B,IAAI,CAC/B,oCAAoC,EACpC;QACEd,GAAG,EAAEA,GAAG;QACRC,MAAM,EAAEA,MAAM;QACdC,SAAS,EAAEA,SAAS;QACpBC,WAAW,EAAEA,WAAW;QACxBC,cAAc,EAAEA,cAAc;QAC9BS,UAAU,EAAEA;MACd,CAAC,CACF;MACDN,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,CAAC;MAC1BZ,eAAe,CAACQ,QAAQ,CAACI,IAAI,CAAmB;MAChDd,UAAU,CAAC,KAAK,CAAC;MACjB,OAAOU,QAAQ,CAACI,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MAClBf,UAAU,CAAC,KAAK,CAAC;MACjB,OAAO,EAAE;IACX;EACF,CAAC;EAEDY,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAACZ,YAAY,CAAC;EACrD,MAAMmB,eAAe,GAAG;IACtBjB,eAAe;IACfF,YAAY,EAAEA,YAAY;IAC1BF;EACF,CAAC;EAED,oBACEL,OAAA,CAACH,UAAU,CAAC8B,QAAQ;IAACC,KAAK,EAAEF,eAAgB;IAAAtB,QAAA,EACzCA;EAAQ;IAAAyB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACW;AAE1B,CAAC;AAAC7B,EAAA,CApFIF,eAAe;AAAAgC,EAAA,GAAfhC,eAAe;AAsFrB,eAAeA,eAAe;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}