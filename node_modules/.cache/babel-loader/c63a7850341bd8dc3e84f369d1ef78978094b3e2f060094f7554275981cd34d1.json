{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pc\\\\Desktop\\\\ahmed\\\\src\\\\context\\\\ContextProvider.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport ApiContext from './ApiContext';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [loading, setLoading] = useState(false);\n  const [beneficaires, setBeneficaires] = useState([]);\n  const getBeneficiaires = async _ref2 => {\n    let {\n      nom,\n      prenom,\n      matricule\n    } = _ref2;\n    setLoading(true);\n    try {\n      const response = await axios.get('http://localhost:8089/beneficiaire/recherche?nom=' + nom);\n      console.log(response.data);\n      setBeneficaires(response.data);\n      setLoading(false);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      return [];\n    }\n  };\n  const addBeneficiaire = async _ref3 => {\n    let {\n      nom,\n      prenom,\n      matricule,\n      centreCout,\n      rfDirection,\n      rfBeneficiaire\n    } = _ref3;\n    setLoading(true);\n    console.log(\"addBeneficiaire: \" + nom);\n    try {\n      console.log('GGGGGGGGGG' + rfDirection);\n      const response = await axios.post('http://localhost:8089/beneficiaire', {\n        nom: nom,\n        prenom: prenom,\n        matricule: matricule,\n        rfDirection: {\n          id: rfDirection\n        },\n        rfBeneficiaire: {\n          id: rfBeneficiaire\n        },\n        centreCout: {\n          id: centreCout\n        }\n      });\n      console.log(response.data);\n      setBeneficaires(response.data);\n      setLoading(false);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      return [];\n    }\n  };\n  const apiContextValue = {\n    getBeneficiaires,\n    addBeneficiaire,\n    beneficaires: beneficaires,\n    loading\n  };\n  return /*#__PURE__*/_jsxDEV(ApiContext.Provider, {\n    value: apiContextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s(ContextProvider, \"/67ftwRAAagTTXHKkk7EdJRFZVk=\");\n_c = ContextProvider;\nexport default ContextProvider;\nvar _c;\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["useState","ApiContext","axios","jsxDEV","_jsxDEV","ContextProvider","_ref","_s","children","loading","setLoading","beneficaires","setBeneficaires","getBeneficiaires","_ref2","nom","prenom","matricule","response","get","console","log","data","error","addBeneficiaire","_ref3","centreCout","rfDirection","rfBeneficiaire","post","id","apiContextValue","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Pc/Desktop/ahmed/src/context/ContextProvider.tsx"],"sourcesContent":["import { ReactNode, useState } from 'react';\r\nimport ApiContext from './ApiContext';\r\nimport axios from 'axios';\r\nimport {IBeneficiare } from './types';\r\n\r\ninterface IContextProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nconst ContextProvider = ({ children }: IContextProviderProps) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [beneficaires, setBeneficaires] = useState<IBeneficiare[]>([]);\r\n\r\n  const getBeneficiaires = async ({\r\n    nom,\r\n    prenom,\r\n    matricule,\r\n  }: {\r\n    nom: string;\r\n    prenom: string;\r\n    matricule: string;\r\n  }): Promise<IBeneficiare[]> => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get(\r\n        'http://localhost:8089/beneficiaire/recherche?nom=' + nom,\r\n      );\r\n      console.log(response.data);\r\n      setBeneficaires(response.data as IBeneficiare[]);\r\n      setLoading(false);\r\n      return response.data as IBeneficiare[];\r\n    } catch (error) {\r\n      console.log(error);\r\n      setLoading(false);\r\n      return []; \r\n    }\r\n  };\r\n\r\n  const addBeneficiaire = async ({\r\n    nom,\r\n    prenom,\r\n    matricule,\r\n    centreCout,\r\n    rfDirection,\r\n    rfBeneficiaire,\r\n  }: {\r\n    nom: string;\r\n    prenom: string;\r\n    matricule: string;\r\n    centreCout: number;\r\n    rfDirection: number;\r\n    rfBeneficiaire: number;\r\n  }): Promise<IBeneficiare[]> => {\r\n    setLoading(true);\r\n    console.log(\"addBeneficiaire: \" + nom);\r\n    try {\r\n      console.log('GGGGGGGGGG' + rfDirection);\r\n      const response = await axios.post(\r\n        'http://localhost:8089/beneficiaire',\r\n        {\r\n          nom: nom,\r\n          prenom: prenom,\r\n          matricule: matricule,\r\n          rfDirection: {id: rfDirection},\r\n          rfBeneficiaire: {id: rfBeneficiaire},\r\n          centreCout: {id: centreCout},\r\n        }\r\n      );\r\n      console.log(response.data);\r\n      setBeneficaires(response.data as IBeneficiare[]);\r\n      setLoading(false);\r\n      return response.data as IBeneficiare[];\r\n    } catch (error) {\r\n      console.log(error);\r\n      setLoading(false);\r\n      return []; \r\n    }\r\n  };\r\n\r\n  const apiContextValue = {\r\n    getBeneficiaires,\r\n    addBeneficiaire,\r\n    beneficaires: beneficaires,\r\n    loading,\r\n  };\r\n\r\n  return (\r\n    <ApiContext.Provider value={apiContextValue}>\r\n      {children}\r\n    </ApiContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ContextProvider;"],"mappings":";;AAAA,SAAoBA,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAO1B,MAAMC,eAAe,GAAGC,IAAA,IAAyC;EAAAC,EAAA;EAAA,IAAxC;IAAEC;EAAgC,CAAC,GAAAF,IAAA;EAC1D,MAAM,CAACG,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACW,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAiB,EAAE,CAAC;EAEpE,MAAMa,gBAAgB,GAAG,MAAAC,KAAA,IAQM;IAAA,IARC;MAC9BC,GAAG;MACHC,MAAM;MACNC;IAKF,CAAC,GAAAH,KAAA;IACCJ,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMQ,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAC9B,mDAAmD,GAAGJ,GAAG,CAC1D;MACDK,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,CAAC;MAC1BV,eAAe,CAACM,QAAQ,CAACI,IAAI,CAAmB;MAChDZ,UAAU,CAAC,KAAK,CAAC;MACjB,OAAOQ,QAAQ,CAACI,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MAClBb,UAAU,CAAC,KAAK,CAAC;MACjB,OAAO,EAAE;IACX;EACF,CAAC;EAED,MAAMc,eAAe,GAAG,MAAAC,KAAA,IAcO;IAAA,IAdA;MAC7BV,GAAG;MACHC,MAAM;MACNC,SAAS;MACTS,UAAU;MACVC,WAAW;MACXC;IAQF,CAAC,GAAAH,KAAA;IACCf,UAAU,CAAC,IAAI,CAAC;IAChBU,OAAO,CAACC,GAAG,CAAC,mBAAmB,GAAGN,GAAG,CAAC;IACtC,IAAI;MACFK,OAAO,CAACC,GAAG,CAAC,YAAY,GAAGM,WAAW,CAAC;MACvC,MAAMT,QAAQ,GAAG,MAAMhB,KAAK,CAAC2B,IAAI,CAC/B,oCAAoC,EACpC;QACEd,GAAG,EAAEA,GAAG;QACRC,MAAM,EAAEA,MAAM;QACdC,SAAS,EAAEA,SAAS;QACpBU,WAAW,EAAE;UAACG,EAAE,EAAEH;QAAW,CAAC;QAC9BC,cAAc,EAAE;UAACE,EAAE,EAAEF;QAAc,CAAC;QACpCF,UAAU,EAAE;UAACI,EAAE,EAAEJ;QAAU;MAC7B,CAAC,CACF;MACDN,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,CAAC;MAC1BV,eAAe,CAACM,QAAQ,CAACI,IAAI,CAAmB;MAChDZ,UAAU,CAAC,KAAK,CAAC;MACjB,OAAOQ,QAAQ,CAACI,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MAClBb,UAAU,CAAC,KAAK,CAAC;MACjB,OAAO,EAAE;IACX;EACF,CAAC;EAED,MAAMqB,eAAe,GAAG;IACtBlB,gBAAgB;IAChBW,eAAe;IACfb,YAAY,EAAEA,YAAY;IAC1BF;EACF,CAAC;EAED,oBACEL,OAAA,CAACH,UAAU,CAAC+B,QAAQ;IAACC,KAAK,EAAEF,eAAgB;IAAAvB,QAAA,EACzCA;EAAQ;IAAA0B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACW;AAE1B,CAAC;AAAC9B,EAAA,CAlFIF,eAAe;AAAAiC,EAAA,GAAfjC,eAAe;AAoFrB,eAAeA,eAAe;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}