{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pc\\\\Desktop\\\\ahmed\\\\src\\\\context\\\\ContextProvider.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport ApiContext from './ApiContext';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [loading, setLoading] = useState(false);\n  const [beneficaires, setBeneficaires] = useState(null);\n  const [forfaits, setForfaits] = useState([]);\n  const [terminals, setTerminals] = useState([]);\n  const getBeneficiaires = async _ref2 => {\n    let {\n      nom,\n      prenom,\n      matricule\n    } = _ref2;\n    setLoading(true);\n    try {\n      const response = await axios.get('http://localhost:8089/beneficiaire/recherche?nom=' + nom);\n      console.log(response.data);\n      setBeneficaires(response.data);\n      setLoading(false);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      return [];\n    }\n  };\n  const getForfaits = async _ref3 => {\n    let {\n      nomForfait,\n      soldeData,\n      soldeAppels,\n      montant\n    } = _ref3;\n    setLoading(true);\n    try {\n      const response = await axios.get('http://localhost:8089/forfaits/rechercheForfait');\n      console.log(response.data);\n      setForfaits(response.data);\n      setLoading(false);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      return [];\n    }\n  };\n  const getTerminals = async _ref4 => {\n    let {\n      imei,\n      etatTerminal,\n      dateReception,\n      dateCession\n    } = _ref4;\n    setLoading(true);\n    try {\n      const response = await axios.get('http://localhost:8089/terminals/terminal');\n      console.log(response.data);\n      setTerminals(response.data);\n      setLoading(false);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      return [];\n    }\n  };\n  const addBeneficiaire = async _ref5 => {\n    let {\n      nom,\n      prenom,\n      matricule,\n      centreCout,\n      rfDirection,\n      rfBeneficiaire\n    } = _ref5;\n    setLoading(true);\n    try {\n      console.log('GGGGGGGGGG' + rfDirection);\n      const response = await axios.post('http://localhost:8089/beneficiaire', {\n        nom: nom,\n        prenom: prenom,\n        matricule: matricule,\n        rfDirection: {\n          id: rfDirection\n        },\n        rfBeneficiaire: {\n          id: rfBeneficiaire\n        },\n        centreCout: {\n          id: centreCout\n        }\n      });\n      {\n        console.log(response.data);\n        setBeneficaires(response.data);\n        console.log(\">>>>>>>>>1 \", beneficaires);\n        setLoading(false);\n        setBeneficaires(response.data);\n        console.log(\">>>>>>>>>2 \", beneficaires);\n      }\n      return response.data;\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      return [];\n    }\n  };\n  const apiContextValue = {\n    getBeneficiaires,\n    addBeneficiaire,\n    getForfaits,\n    getTerminals,\n    forfaits: forfaits,\n    terminals: terminals,\n    beneficaires: beneficaires,\n    loading\n  };\n  return /*#__PURE__*/_jsxDEV(ApiContext.Provider, {\n    value: apiContextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 6\n  }, this);\n};\n_s(ContextProvider, \"jcWVeND29/a2S3XGfvklXfyJAtg=\");\n_c = ContextProvider;\nexport default ContextProvider;\nvar _c;\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["useState","ApiContext","axios","jsxDEV","_jsxDEV","ContextProvider","_ref","_s","children","loading","setLoading","beneficaires","setBeneficaires","forfaits","setForfaits","terminals","setTerminals","getBeneficiaires","_ref2","nom","prenom","matricule","response","get","console","log","data","error","getForfaits","_ref3","nomForfait","soldeData","soldeAppels","montant","getTerminals","_ref4","imei","etatTerminal","dateReception","dateCession","addBeneficiaire","_ref5","centreCout","rfDirection","rfBeneficiaire","post","id","apiContextValue","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Pc/Desktop/ahmed/src/context/ContextProvider.tsx"],"sourcesContent":["import { ReactNode, useState } from 'react';\r\nimport ApiContext from './ApiContext';\r\nimport axios from 'axios';\r\nimport {IBeneficiare} from './types';\r\nimport { IForfait } from './types';\r\nimport { ITerminal } from './types';\r\ninterface IContextProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nconst ContextProvider = ({ children }: IContextProviderProps) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [beneficaires, setBeneficaires] = useState<IBeneficiare[] | null>(null);\r\n  const [forfaits, setForfaits]= useState<IForfait[]>([]);\r\n  const [terminals, setTerminals]= useState<ITerminal[]>([]);\r\n\r\n  const getBeneficiaires = async ({\r\n    nom,\r\n    prenom,\r\n    matricule,\r\n  }: {\r\n    nom: string;\r\n    prenom: string;\r\n    matricule: string;\r\n  }): Promise<IBeneficiare[]> => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get(\r\n        'http://localhost:8089/beneficiaire/recherche?nom=' + nom,\r\n      );\r\n      console.log(response.data);\r\n      setBeneficaires(response.data as IBeneficiare[]);\r\n      \r\n      setLoading(false);\r\n      return response.data as IBeneficiare[];\r\n    } catch (error) {\r\n      console.log(error);\r\n      setLoading(false);\r\n      return []; \r\n    }\r\n  };\r\n  const getForfaits = async ({\r\n    nomForfait,\r\n    soldeData,\r\n    soldeAppels,\r\n    montant,\r\n  }: {\r\n    nomForfait: string;\r\n    soldeData: string;\r\n    soldeAppels: string;\r\n    montant: string;\r\n  }): Promise<IForfait[]> => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get(\r\n        'http://localhost:8089/forfaits/rechercheForfait',\r\n      );\r\n      console.log(response.data);\r\n      setForfaits(response.data as IForfait[]);\r\n      setLoading(false);\r\n      return response.data as IForfait[];\r\n    } catch (error) {\r\n      console.log(error);\r\n      setLoading(false);\r\n      return []; \r\n    }\r\n  };\r\n  const getTerminals = async ({\r\n    imei,\r\n    etatTerminal,\r\n    dateReception ,\r\n    dateCession ,\r\n                   \r\n  }: {\r\n    imei : String;\r\n    etatTerminal: String;\r\n    dateReception : String;\r\n    dateCession: String;\r\n  }): Promise<ITerminal[]> => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get(\r\n        'http://localhost:8089/terminals/terminal',\r\n      );\r\n      console.log(response.data);\r\n      setTerminals(response.data );\r\n      setLoading(false);\r\n      return response.data as ITerminal[];\r\n    } catch (error) {\r\n      console.log(error);\r\n      setLoading(false);\r\n      return []; \r\n    }\r\n  };\r\n\r\n  const addBeneficiaire = async ({\r\n    nom,\r\n    prenom,\r\n    matricule,\r\n    centreCout,\r\n    rfDirection,\r\n    rfBeneficiaire,\r\n  }: {\r\n    nom: string;\r\n    prenom: string;\r\n    matricule: string;\r\n    centreCout: number;\r\n    rfDirection: number;\r\n    rfBeneficiaire: number;\r\n  }): Promise<IBeneficiare[]> => {\r\n    setLoading(true);\r\n    try {\r\n      console.log('GGGGGGGGGG' + rfDirection);\r\n      const response = await axios.post(\r\n        'http://localhost:8089/beneficiaire',\r\n        {\r\n          nom: nom,\r\n          prenom: prenom,\r\n          matricule: matricule,\r\n          rfDirection: {id: rfDirection},\r\n          rfBeneficiaire: {id: rfBeneficiaire},\r\n          centreCout: {id: centreCout},\r\n        }\r\n      );\r\n      {console.log(response.data);\r\n      setBeneficaires(response.data as IBeneficiare[]);\r\n      console.log(\">>>>>>>>>1 \", beneficaires);\r\n      setLoading(false);\r\n      setBeneficaires(response.data as IBeneficiare[]);\r\n      console.log(\">>>>>>>>>2 \", beneficaires);}\r\n      return response.data as IBeneficiare[];\r\n    } catch (error) {\r\n      console.log(error);\r\n      setLoading(false);\r\n      return []; \r\n    }\r\n  };\r\n\r\n  const apiContextValue = {\r\n    getBeneficiaires,\r\n    addBeneficiaire,\r\n    getForfaits,\r\n    getTerminals,\r\n    forfaits: forfaits,\r\n    terminals: terminals,\r\n    beneficaires: beneficaires,\r\n    loading,\r\n  };\r\n\r\n  return (\r\n     <ApiContext.Provider value={apiContextValue}>\r\n      {children}\r\n    </ApiContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ContextProvider;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}